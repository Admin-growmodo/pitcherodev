!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.lazim={})}(this,function(e){var t,n,i,o,r,d,a,f,u,c,p=[];function s(e,t){return n=window.pageXOffset,o=window.pageYOffset,d=window.innerHeight,f=window.innerWidth,i||(i=n),r||(r=o),u||(u=f),a||(a=d),(t||o!==r||n!==i||d!==a||f!==u)&&(function(e){for(var t=0;t<p.length;t++)p[t]({x:n,y:o,px:i,py:r,vh:d,pvh:a,vw:f,pvw:u},e)}(e),i=n,r=o,a=d,u=f),requestAnimationFrame(s)}function l(e){return p.indexOf(e)<0&&p.push(e),t=t||s(performance.now()),{update:function(){s(performance.now(),!0)},destroy:function(){p.splice(p.indexOf(e),1)}}}e.update=function(){c&&c.update()},e.bind=function(e){var t;void 0===e&&(e="data-src");for(var n=document.querySelectorAll("["+e+"]"),i=function(i){var o,r,d=n[i],a="IMG"===d.nodeName?d:d.getElementsByTagName("img")[0],f=d.getAttribute(e);a.onload=function(){d.classList.add("is-loaded")},d.removeAttribute(e),t=(o=d,void 0===r&&(r={}),function(e,t){var n=!1,i=parseFloat(o.getAttribute("data-threshold")||r.threshold||0);return l(function(){for(var r=[],d=arguments.length;d--;)r[d]=arguments[d];var a=r[0],f=a.y,u=a.vh,c=o.getBoundingClientRect(),p=c.top+f,s=i>=.5?i:i*u,l=p+c.height-s>=f&&p+s<=f+u;l&&!n?(n=!0,e&&e.apply(void 0,r)):!l&&n&&(n=!1,t&&t.apply(void 0,r))})})(function(){d.classList.add("is-visible"),a.src=f})},o=0;o<n.length;o++)i(o);t&&(t.update(),c||(c=t))}});
//# sourceMappingURL=lazim.umd.js.map
