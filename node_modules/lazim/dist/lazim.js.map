{"version":3,"file":"lazim.js","sources":["../node_modules/srraf/dist/srraf.es.js","../index.js","../node_modules/vsbl/dist/vsbl.es.js"],"sourcesContent":["var n,e,i,t,o,r,f,p,w,u=[];function a(n,d){return e=window.pageXOffset,t=window.pageYOffset,r=window.innerHeight,p=window.innerWidth,i||(i=e),o||(o=t),w||(w=p),f||(f=r),(d||t!==o||e!==i||r!==f||p!==w)&&(!function(n){for(var a=0;a<u.length;a++)u[a]({x:e,y:t,px:i,py:o,vh:r,pvh:f,vw:p,pvw:w},n)}(n),i=e,o=t,f=r,w=p),requestAnimationFrame(a)}export default function(e){return u.indexOf(e)<0&&u.push(e),n=n||a(performance.now()),{update:function(){a(performance.now(),!0)},destroy:function(){u.splice(u.indexOf(e),1)}}}\n//# sourceMappingURL=srraf.es.js.map\n","import vsbl from 'vsbl'\n\nlet srrafInstance\n\nexport function update () {\n  srrafInstance && srrafInstance.update()\n}\n\nexport function bind (attr = 'data-src') {\n  let images\n  const nodes = document.querySelectorAll('[' + attr + ']')\n\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i]\n    const img = node.nodeName === 'IMG' ? node : node.getElementsByTagName('img')[0]\n    const src = node.getAttribute(attr)\n\n    img.onload = () => {\n      node.classList.add('is-loaded')\n    }\n\n    node.removeAttribute(attr)\n\n    images = vsbl(node)(() => {\n      node.classList.add('is-visible')\n      img.src = src\n    })\n  }\n\n  if (images) {\n    images.update()\n    if (!srrafInstance) srrafInstance = images\n  }\n}\n","import t from\"srraf\";export default function(r,o){return void 0===o&&(o={}),function(e,n){var a=!1,i=parseFloat(r.getAttribute(\"data-threshold\")||o.threshold||0);return t(function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];var d=t[0],h=d.y,l=d.vh,p=r.getBoundingClientRect(),u=p.top+h,f=i>=.5?i:i*l,v=u+p.height-f>=h&&u+f<=h+l;v&&!a?(a=!0,e&&e.apply(void 0,t)):!v&&a&&(a=!1,n&&n.apply(void 0,t))})}}\n//# sourceMappingURL=vsbl.es.js.map\n"],"names":["n","e","i","t","o","r","f","p","w","srrafInstance","u","a","d","window","pageXOffset","pageYOffset","innerHeight","innerWidth","length","x","y","px","py","vh","pvh","vw","pvw","requestAnimationFrame","indexOf","push","performance","now","update","destroy","splice","attr","images","nodes","document","querySelectorAll","node","img","nodeName","getElementsByTagName","src","getAttribute","onload","classList","add","removeAttribute","parseFloat","threshold","arguments","h","l","getBoundingClientRect","top","v","height","apply"],"mappings":"AAAA,IAAIA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,ECEhBC,EDFkBC,EAAE,GAAG,SAASC,EAAEX,EAAEY,GAAG,OAAOX,EAAEY,OAAOC,YAAYX,EAAEU,OAAOE,YAAYV,EAAEQ,OAAOG,YAAYT,EAAEM,OAAOI,WAAWf,IAAIA,EAAED,GAAGG,IAAIA,EAAED,GAAGK,IAAIA,EAAED,GAAGD,IAAIA,EAAED,IAAIO,GAAGT,IAAIC,GAAGH,IAAIC,GAAGG,IAAIC,GAAGC,IAAIC,KAAM,SAASR,GAAG,IAAI,IAAIW,EAAE,EAAEA,EAAED,EAAEQ,OAAOP,IAAID,EAAEC,GAAG,CAACQ,EAAElB,EAAEmB,EAAEjB,EAAEkB,GAAGnB,EAAEoB,GAAGlB,EAAEmB,GAAGlB,EAAEmB,IAAIlB,EAAEmB,GAAGlB,EAAEmB,IAAIlB,GAAGR,GAAtF,CAA0FA,GAAGE,EAAED,EAAEG,EAAED,EAAEG,EAAED,EAAEG,EAAED,GAAGoB,sBAAsBhB,GAAkB,WAASV,GAAG,OAAOS,EAAEkB,QAAQ3B,GAAG,GAAGS,EAAEmB,KAAK5B,GAAGD,EAAEA,GAAGW,EAAEmB,YAAYC,OAAO,CAACC,OAAO,WAAWrB,EAAEmB,YAAYC,OAAM,IAAKE,QAAQ,WAAWvB,EAAEwB,OAAOxB,EAAEkB,QAAQ3B,GAAG,oBCI9f,WACEQ,GAAiBA,EAAcuB,uBAG1B,SAAeG,OAChBC,iBADuB,oBAErBC,EAAQC,SAASC,iBAAiB,IAAMJ,EAAO,uBCVV9B,EAAED,EDarCoC,EAAOH,EAAMnC,GACbuC,EAAwB,QAAlBD,EAAKE,SAAqBF,EAAOA,EAAKG,qBAAqB,OAAO,GACxEC,EAAMJ,EAAKK,aAAaV,GAE9BM,EAAIK,kBACFN,EAAKO,UAAUC,IAAI,cAGrBR,EAAKS,gBAAgBd,GAErBC,GCvByC/B,EDuB3BmC,OCvBuC,IAASpC,IAAIA,EAAE,IAAI,SAASH,EAAED,GAAG,IAAIW,GAAE,EAAGT,EAAEgD,WAAW7C,EAAEwC,aAAa,mBAAmBzC,EAAE+C,WAAW,GAAG,OAAOhD,EAAE,WAAW,IAAI,IAAIA,EAAE,GAAGC,EAAEgD,UAAUlC,OAAOd,KAAKD,EAAEC,GAAGgD,UAAUhD,GAAG,IAAIQ,EAAET,EAAE,GAAGkD,EAAEzC,EAAEQ,EAAEkC,EAAE1C,EAAEW,GAAGhB,EAAEF,EAAEkD,wBAAwB7C,EAAEH,EAAEiD,IAAIH,EAAE/C,EAAEJ,GAAG,GAAGA,EAAEA,EAAEoD,EAAEG,EAAE/C,EAAEH,EAAEmD,OAAOpD,GAAG+C,GAAG3C,EAAEJ,GAAG+C,EAAEC,EAAEG,IAAI9C,GAAGA,GAAE,EAAGV,GAAGA,EAAE0D,WAAM,EAAOxD,KAAKsD,GAAG9C,IAAIA,GAAE,EAAGX,GAAGA,EAAE2D,WAAM,EAAOxD,mBDwBhZqC,EAAKO,UAAUC,IAAI,cACnBP,EAAIG,IAAMA,KAbL1C,EAAI,EAAGA,EAAImC,EAAMnB,OAAQhB,SAiB9BkC,IACFA,EAAOJ,SACFvB,IAAeA,EAAgB2B"}