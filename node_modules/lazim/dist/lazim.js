var t,e,n,i,o,r,a,d,u,f,s=[];function c(t,f){return e=window.pageXOffset,i=window.pageYOffset,r=window.innerHeight,d=window.innerWidth,n||(n=e),o||(o=i),u||(u=d),a||(a=r),(f||i!==o||e!==n||r!==a||d!==u)&&(function(t){for(var f=0;f<s.length;f++)s[f]({x:e,y:i,px:n,py:o,vh:r,pvh:a,vw:d,pvw:u},t)}(t),n=e,o=i,a=r,u=d),requestAnimationFrame(c)}function p(e){return s.indexOf(e)<0&&s.push(e),t=t||c(performance.now()),{update:function(){c(performance.now(),!0)},destroy:function(){s.splice(s.indexOf(e),1)}}}exports.update=function(){f&&f.update()},exports.bind=function(t){var e;void 0===t&&(t="data-src");for(var n=document.querySelectorAll("["+t+"]"),i=function(i){var o,r,a=n[i],d="IMG"===a.nodeName?a:a.getElementsByTagName("img")[0],u=a.getAttribute(t);d.onload=function(){a.classList.add("is-loaded")},a.removeAttribute(t),e=(o=a,void 0===r&&(r={}),function(t,e){var n=!1,i=parseFloat(o.getAttribute("data-threshold")||r.threshold||0);return p(function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var d=r[0],u=d.y,f=d.vh,s=o.getBoundingClientRect(),c=s.top+u,p=i>=.5?i:i*f,l=c+s.height-p>=u&&c+p<=u+f;l&&!n?(n=!0,t&&t.apply(void 0,r)):!l&&n&&(n=!1,e&&e.apply(void 0,r))})})(function(){a.classList.add("is-visible"),d.src=u})},o=0;o<n.length;o++)i(o);e&&(e.update(),f||(f=e))};
//# sourceMappingURL=lazim.js.map
